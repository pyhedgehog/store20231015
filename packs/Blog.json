{"description":"Blog with rich-text post and comments","name":"Blog","pack":{"pages":[{"name":"Blog","title":"Saltcorn blog","layout":{"above":[{"icon":"","type":"blank","block":false,"contents":"<h1>Saltcorn blog</h1>\n","labelFor":"","isFormula":{},"textStyle":""},{"widths":[8,4],"besides":[{"name":"9b3f64","type":"view","view":"Posts","state":"shared"},{"url":"","type":"card","title":"","shadow":true,"contents":{"above":[{"icon":"","type":"blank","block":false,"contents":"<p>This is the blog for&nbsp;<a href=\"https://saltcorn.com/\">Saltcorn</a>&mdash; an open-source no-code builder for web applications.</p>\n","labelFor":"","isFormula":{},"textStyle":""},{"icon":"","type":"blank","block":false,"contents":"<p>Other resources:</p>\n\n<ul>\n\t<li><a href=\"https://wiki.saltcorn.com\">Wiki</a></li>\n\t<li><a href=\"https://roadmap.saltcorn.com/\">Roadmap</a></li>\n\t<li><a href=\"https://forum.saltcorn.com/\">Forum</a></li>\n\t<li><a href=\"https://github.com/saltcorn/saltcorn\">Code</a></li>\n\t<li><a href=\"https://twitter.com/saltcorns\">Twitter</a></li>\n</ul>\n","labelFor":"","isFormula":{},"textStyle":""}]},"isFormula":{}}],"breakpoints":["lg","lg"]}]},"min_role":10,"menu_label":"Posts","description":"Blog for saltcorn, a no-code database application platform","fixed_states":{},"root_page_for_roles":["admin","staff","user","public"]},{"name":"PostPage","title":"Saltcorn blog post","layout":{"widths":[8,4],"besides":[{"name":"7b7925","type":"view","view":"Full Post","state":"shared"},{"url":"","type":"card","title":"Recent posts","shadow":false,"contents":{"name":"1f4dfb","type":"view","view":"RecentPosts","state":"fixed"},"isFormula":{}}],"breakpoints":["lg","lg"]},"min_role":10,"description":"","fixed_states":{"1f4dfb":{"body":"","title":"","author":null,"excerpt":"","published":null},"fixed_stateforrecentpostsview":null},"root_page_for_roles":[]}],"views":[{"name":"CommentFeed","table":"Comments","min_role":10,"viewtemplate":"Feed","configuration":{"cols_lg":1,"cols_md":1,"cols_sm":1,"cols_xl":1,"in_card":false,"viewname":"CommentFeed","show_view":"ShowComment","descending":false,"order_field":"written","view_to_create":"EditComment"},"default_render_page":null},{"name":"EditComment","table":"Comments","min_role":10,"viewtemplate":"Edit","configuration":{"fixed":{"written":null,"preset_written":"Now"},"layout":{"above":[{"widths":[2,10],"besides":[{"above":[null,{"type":"blank","block":false,"contents":"Your name","labelFor":"","isFormula":{},"textStyle":""}]},{"above":[null,{"type":"field","block":false,"fieldview":"edit","textStyle":"","field_name":"name","configuration":{}}]}],"breakpoints":["",""]},{"type":"line_break"},{"widths":[2,10],"besides":[{"above":[null,{"type":"blank","block":false,"contents":"Comment","labelFor":"","isFormula":{},"textStyle":""}]},{"above":[null,{"type":"field","block":false,"fieldview":"CKEditor4","textStyle":"","field_name":"comment","configuration":{}}]}],"breakpoints":["",""]},{"type":"line_break"},{"type":"field","block":true,"fieldview":"edit","textStyle":"","field_name":"post","configuration":{}},{"type":"action","block":false,"rndid":"e1d9e2","minRole":10,"isFormula":{},"action_icon":"","action_name":"Save","action_size":"","action_label":"","action_style":"btn-primary","configuration":{}}]},"columns":[{"type":"Field","fieldview":"edit","field_name":"name","configuration":{}},{"type":"Field","fieldview":"CKEditor4","field_name":"comment","configuration":{}},{"type":"Field","fieldview":"edit","field_name":"post","configuration":{}},{"type":"Action","rndid":"e1d9e2","minRole":10,"isFormula":{},"action_icon":"","action_name":"Save","action_size":"","action_label":"","action_style":"btn-primary","configuration":{}}],"viewname":"EditComment","exttable_name":null,"view_when_done":"Posts"},"default_render_page":""},{"name":"EditPost","table":"Posts","min_role":8,"viewtemplate":"Edit","configuration":{"fixed":{"author":null,"published":null,"preset_author":"LoggedIn","preset_published":"Now"},"layout":{"above":[{"widths":[12],"besides":[{"above":[null,{"type":"blank","block":false,"contents":"Title","labelFor":"","isFormula":{},"textStyle":""},{"type":"line_break"},{"type":"field","block":false,"fieldview":"edit","textStyle":"","field_name":"title","configuration":{}}]}],"breakpoints":[""]},{"type":"line_break"},{"widths":[12],"besides":[{"above":[null,{"type":"blank","block":false,"contents":"Excerpt","labelFor":"","isFormula":{},"textStyle":""},{"type":"line_break"},{"type":"field","block":false,"fieldview":"CKEditor4","textStyle":"","field_name":"excerpt","configuration":{}}]}],"breakpoints":[""]},{"type":"line_break"},{"widths":[12],"besides":[{"above":[null,{"type":"blank","block":false,"contents":"Body","labelFor":"","isFormula":{},"textStyle":""},{"type":"line_break"},{"type":"field","block":false,"fieldview":"CKEditor4","textStyle":"","field_name":"body","configuration":{}}]}],"breakpoints":[""]},{"type":"line_break"},{"type":"action","block":false,"rndid":"7c91e5","minRole":10,"isFormula":{},"action_icon":"","action_name":"Save","action_size":"","action_label":"","action_style":"btn-primary","configuration":{}}]},"columns":[{"type":"Field","fieldview":"edit","field_name":"title","configuration":{}},{"type":"Field","fieldview":"CKEditor4","field_name":"excerpt","configuration":{}},{"type":"Field","fieldview":"CKEditor4","field_name":"body","configuration":{}},{"type":"Action","rndid":"7c91e5","minRole":10,"isFormula":{},"action_icon":"","action_name":"Save","action_size":"","action_label":"","action_style":"btn-primary","configuration":{}}],"viewname":"EditPost","exttable_name":null,"view_when_done":"ShowPost"},"default_render_page":""},{"name":"Full Post","table":"Posts","min_role":10,"viewtemplate":"ListShowList","configuration":{"viewname":"Full Post","list_view":"","show_view":"ShowPost","subtables":{"ChildList:CommentFeed.Comments.post":true,"ChildList:EditComment.Comments.post":false}},"default_render_page":"PostPage"},{"name":"NextPostLink","table":"Posts","min_role":10,"viewtemplate":"PreviousOrNextLink","configuration":{"viewname":"NextPostLink","link_view":"Full Post","descending":false,"fixed_label":"Next: ","label_field":"title","order_field":"published","exttable_name":null},"default_render_page":""},{"name":"PeekPost","table":"Posts","min_role":10,"viewtemplate":"Show","configuration":{"layout":{"above":[{"type":"view_link","view":"Own:Full Post","block":false,"minRole":10,"in_modal":false,"isFormula":{"label":true},"link_icon":"","link_size":"","textStyle":"h3","link_style":"","view_label":"title"},{"type":"field","block":true,"fieldview":"relative","textStyle":"","field_name":"published","configuration":{}},{"type":"field","block":true,"fieldview":"showAll","textStyle":"","field_name":"excerpt","configuration":{}},{"stat":"Count","type":"aggregation","block":false,"aggwhere":"","agg_field":"name","textStyle":"small","agg_relation":"Comments.post"},{"type":"blank","block":false,"contents":" comments","labelFor":"","isFormula":{},"textStyle":"small"},{"type":"view_link","view":"Own:Full Post","block":true,"minRole":10,"in_modal":false,"isFormula":{},"link_icon":"","link_size":"","textStyle":"","link_style":"","view_label":"Read full post..."}]},"columns":[{"type":"ViewLink","view":"Own:Full Post","minRole":10,"in_modal":false},{"type":"Field","fieldview":"relative","field_name":"published","configuration":{}},{"type":"Field","fieldview":"showAll","field_name":"excerpt","configuration":{}},{"stat":"Count","type":"Aggregation","aggwhere":"","agg_field":"name","agg_relation":"Comments.post"},{"type":"ViewLink","view":"Own:Full Post","minRole":10,"in_modal":false}],"viewname":"PeekPost","page_title":"","exttable_name":null,"page_title_formula":false},"default_render_page":""},{"name":"Posts","table":"Posts","min_role":10,"viewtemplate":"Feed","configuration":{"cols_lg":1,"cols_md":1,"cols_sm":1,"cols_xl":1,"in_card":true,"viewname":"Posts","show_view":"PeekPost","descending":true,"order_field":"published","exttable_name":null,"rows_per_page":10,"view_to_create":"EditPost","hide_pagination":false,"masonry_columns":false,"create_view_label":"","create_view_display":"Link","create_view_location":""},"default_render_page":""},{"name":"PrevPostLink","table":"Posts","min_role":10,"viewtemplate":"PreviousOrNextLink","configuration":{"viewname":"NextPostLink","link_view":"Full Post","descending":true,"fixed_label":"Previous: ","label_field":"title","order_field":"published","exttable_name":null},"default_render_page":""},{"name":"RecentPosts","table":"Posts","min_role":10,"viewtemplate":"Feed","configuration":{"cols_lg":1,"cols_md":1,"cols_sm":1,"cols_xl":1,"in_card":false,"viewname":"RecentPosts","show_view":"ShortPostPeek","descending":true,"order_field":"published","rows_per_page":5,"view_to_create":"","hide_pagination":true,"create_view_display":"Link"},"default_render_page":""},{"name":"ShortPostPeek","table":"Posts","min_role":10,"viewtemplate":"Show","configuration":{"layout":{"above":[{"type":"view_link","view":"Own:Full Post","block":true,"minRole":10,"isFormula":{"label":true},"view_label":"title"},{"type":"field","block":true,"fieldview":"relative","field_name":"published"},{"type":"line_break"}]},"columns":[{"type":"ViewLink","view":"Own:Full Post","minRole":10},{"type":"Field","fieldview":"relative","field_name":"published"}],"viewname":"ShortPostPeek"},"default_render_page":""},{"name":"ShowComment","table":"Comments","min_role":10,"viewtemplate":"Show","configuration":{"layout":{"above":[{"type":"field","block":false,"fieldview":"as_text","textStyle":"small","field_name":"name"},{"type":"field","block":true,"fieldview":"relative","textStyle":"small","field_name":"written"},{"type":"field","block":false,"fieldview":"as_text","textStyle":"","field_name":"comment"}]},"columns":[{"type":"Field","fieldview":"as_text","field_name":"name"},{"type":"Field","fieldview":"relative","field_name":"written"},{"type":"Field","fieldview":"as_text","field_name":"comment"}],"viewname":"ShowComment"},"default_render_page":null},{"name":"ShowPost","table":"Posts","min_role":10,"viewtemplate":"Show","configuration":{"layout":{"above":[{"type":"field","block":true,"fieldview":"as_text","textStyle":"h2","field_name":"title","configuration":{}},{"icon":"","type":"blank","block":false,"contents":"By&nbsp;","labelFor":"","isFormula":{},"textStyle":""},{"type":"join_field","block":false,"textStyle":"","join_field":"author.full_name"},{"type":"line_break"},{"type":"blank","isHTML":true,"contents":"<hr>"},{"icon":"","type":"blank","block":false,"contents":"Published on&nbsp;","labelFor":"","isFormula":{},"textStyle":""},{"type":"field","block":false,"fieldview":"format","textStyle":"","field_name":"published","configuration":{"format":"DD MMMM YYYY"}},{"type":"blank","isHTML":true,"contents":"<hr>"},{"type":"field","block":true,"fieldview":"showAll","textStyle":"","field_name":"body","configuration":{}},{"widths":[6,6],"besides":[{"name":"ff1dd5","type":"view","view":"Own:PrevPostLink","state":"shared"},{"above":[null,{"name":"73a416","type":"view","view":"Own:NextPostLink","state":"shared"}]}],"breakpoints":["",""]},{"type":"view_link","view":"Own:EditPost","block":false,"minRole":"4","in_modal":false,"isFormula":{},"link_icon":"","link_size":"","link_style":"","view_label":"Edit"},{"type":"line_break"}]},"columns":[{"type":"Field","fieldview":"as_text","field_name":"title","configuration":{}},{"type":"JoinField","join_field":"author.full_name"},{"type":"Field","fieldview":"format","field_name":"published","configuration":{"format":"DD MMMM YYYY"}},{"type":"Field","fieldview":"showAll","field_name":"body","configuration":{}},{"type":"ViewLink","view":"Own:EditPost","minRole":"4","in_modal":false}],"viewname":"ShowPost","page_title":"title","exttable_name":null,"page_title_formula":true},"default_render_page":""}],"tables":[{"name":"Comments","fields":[{"name":"name","type":"String","label":"Your name","stored":false,"required":false,"is_unique":false,"attributes":{"match":"","options":""},"calculated":false,"expression":null,"primary_key":false},{"name":"comment","type":"HTML","label":"Comment","stored":false,"required":true,"is_unique":false,"attributes":{},"calculated":false,"expression":null,"primary_key":false},{"name":"written","type":"Date","label":"Written","stored":false,"required":true,"is_unique":false,"attributes":{},"calculated":false,"expression":null,"primary_key":false},{"name":"post","type":"Key","label":"Post","stored":false,"refname":"id","reftype":"Integer","required":true,"is_unique":false,"attributes":{"summary_field":"title"},"calculated":false,"expression":null,"primary_key":false,"reftable_name":"Posts"},{"name":"id","type":"Integer","label":"ID","stored":false,"required":true,"is_unique":true,"attributes":{},"calculated":false,"expression":null,"primary_key":true}],"triggers":[],"versioned":false,"constraints":[],"min_role_read":10,"min_role_write":10,"ownership_field_name":null},{"name":"Posts","fields":[{"name":"title","type":"String","label":"Title","stored":false,"required":true,"is_unique":true,"attributes":{"options":""},"calculated":false,"expression":null,"primary_key":false},{"name":"body","type":"HTML","label":"Body","stored":false,"required":true,"is_unique":false,"attributes":{},"calculated":false,"expression":null,"primary_key":false},{"name":"published","type":"Date","label":"Published","stored":false,"required":true,"is_unique":false,"attributes":{},"calculated":false,"expression":null,"primary_key":false},{"name":"excerpt","type":"HTML","label":"Excerpt","stored":false,"required":true,"is_unique":false,"attributes":{"default":" \r\n"},"calculated":false,"expression":null,"primary_key":false},{"name":"id","type":"Integer","label":"ID","stored":false,"required":true,"is_unique":true,"attributes":{},"calculated":false,"expression":null,"primary_key":true},{"name":"author","type":"Key","label":"Author","stored":false,"refname":"id","reftype":"Integer","required":true,"is_unique":false,"attributes":{"default":1,"summary_field":"full_name"},"calculated":false,"expression":null,"primary_key":false,"reftable_name":"users"}],"triggers":[],"versioned":false,"constraints":[],"min_role_read":10,"min_role_write":1,"ownership_field_name":null},{"name":"users","fields":[{"name":"email","type":"String","label":"Email","stored":false,"required":false,"is_unique":false,"attributes":{},"calculated":false,"expression":null,"primary_key":false},{"name":"id","type":"Integer","label":"ID","stored":false,"required":true,"is_unique":true,"attributes":{},"calculated":false,"expression":null,"primary_key":true},{"name":"full_name","type":"String","label":"Full Name","stored":false,"required":false,"is_unique":false,"attributes":{"regexp":"","options":"","max_length":null,"min_length":null,"re_invalid_error":""},"calculated":false,"expression":null,"primary_key":false}],"triggers":[],"versioned":false,"constraints":[],"min_role_read":1,"min_role_write":1,"ownership_field_name":null}],"plugins":[{"name":"@saltcorn/html","source":"npm","location":"@saltcorn/html","configuration":null},{"name":"stepper","source":"npm","location":"@saltcorn/stepper","configuration":null},{"name":"ckeditor4","source":"npm","location":"@saltcorn/ckeditor4","configuration":null},{"name":"any-bootstrap-theme","source":"npm","location":"@saltcorn/any-bootstrap-theme","configuration":{"fluid":false,"theme":"litera","toppad":2,"css_url":null,"in_card":false,"css_file":null,"fixedTop":false,"colorscheme":"navbar-dark bg-dark","css_integrity":null,"backgroundColor":"#ffffff"}}]}}
